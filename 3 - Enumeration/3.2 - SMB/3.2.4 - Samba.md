- Samba refers to the Linux implementation of the SMB protocol.

Nmap Scripts
	`smb-os-discovery`
	- This script attempts to determine the operating system, computer name, domain, workgroup, and current time over the SMB protocol (ports 445 or 139).
	- If this script is used in conjunction with version detection it can augment the standard Nmap version detection information with data that this script has discovered.
	- The `smbnoguest` script when used in conjunction with this script will speed it up on targets that do not allow guest access.
	- Information enumerated by this script:
		- OS
		- Computer name
		- Domain name
		- Forest name
		- FQDN
		- NetBIOS computer name
		- NetBIOS domain name
		- Workgroup
		- System time

Metasploit Framework
	- SMB Version detection using Metasploit Framework
		`msfconsole`
		`use auxiliary/scanner/smb/smb_version`
		`use auxiliary/scanner/smb/smb2`
		`use auxiliary/scanner/smb/smb_enumshares`
		`show options`
		`set rhosts 192.223.132.3`
		`run`
		`exit`

nmblookup
	- nmblookup is used to query NetBIOS names and map them to IP addresses in a network using NetBIOS over TCP/IP queries.
	- All queries are done over UDP.
	- The `-A` flag performs a lookup by IP.
	- Usage Example: `nmblookup -A 192.223.132.3`
	- Interpreting the output given by nmblookup, (this part of the nmblookup section has been written based on some research online, since there was not enough material in the course to cover the output generated by nmblookup thoroughly):
		- Each line corresponds to a _name_ that the node has claimed using NetBIOS.
		- The first field is the name itself.
		- The second field is the [suffix](http://ubiqx.org/cifs/Appendix-C.html), or the 16th byte of the name, in hexadecimal. It shows the _type_ of this name – `0x00` is "Workstation" (a regular NetBIOS node), `0x20` is "Server" (a node running a SMB file server), `0x01` is "[Browser](http://technet.microsoft.com/en-us/library/cc751403.aspx)" (a node that keeps track of all NetBIOS names on the network), `0x03` is "[Messenger](https://en.wikipedia.org/wiki/Windows_Messenger_service)" (a node _or a user_ that can receive popup notifications), and so on, and so on.
		- The fourth field marks this line as a "group" name – one that multiple node (AFAIK up to 16) may claim at once. In this case, a group name of type `0x00` (Workstation) denotes the _workgroup_ that the node is in (which again has to do with [network browsing](http://ubiqx.org/cifs/Browsing.html)).
		- The fifth field is the [node type](http://support.microsoft.com/kb/119493) (though I don't know why it is a property of each name – AFAIK, it is a setting of the node itself…) – B-nodes use NetBIOS datagrams which are broadcast in the LAN; P-nodes (point-to-point) use a central WINS server; M-nodes (mixed) first try broadcast then WINS when resolving names; H-nodes (hybrid), a later improvement over M-node, first try WINS then broadcast (this is a little faster).
		- I am not sure of the last two fields. It's likely that `<ACTIVE>` means that the node successfully registered this name; if it ended up a duplicate, it would still be listed in response to a status query, but it would have a different marker. Similarly, `<PERMANENT>` is likely to mean that the name doesn't expire, or something.

Connecting to SMB using smbclient
	- `smbclient` is a client that can 'talk' to an SMB/CIFS server. It offers an interface similar to that of the ftp program.
	- Operations include things like getting files from the server to the local machine, putting files from the local machine to the server, retrieving directory information from the server and so on.
	- The `-L` or `--list` option allows you to look at what services are available on a server.
	- The `-N` or `--no-pass` suppresses the normal password prompt from the client to the user. This is useful when accessing a service that does not require a password, or checking for NULL session (no login/password) logins,
	- If a password is specified on the command line and the `-N` or `--no-pass` option is also defined the password on the command line will be silently ignored and no password will be used.
	- Usage Example: `smbclient -L -N 192.223.132.3`
	- When connected to a target server using smbclient, we can use the `help` command to see what other commands can be used on the specific share.
	- The `get` command can be used to download files from the samba share.

rpclient
	- The `rpclient` utility from Samba is utilized for interacting with RPC endpoints through named pipes.
	- The `-U` or `--user` option is used to define the username, an empty username can be used for NULL session logins.
	- The `-N` or `--no-pass` option is used in a similar way to how it is used in smbclient, i.e. to define that no password is to be used for the login process.
	- Usage Example: `rpclient -U "" -N 192.223.132.3`
	- The `srvinfo` command shows OS type and version of the machine.
	- The `enumdomusers` command lists users, along with their RIDs.
	- The `lookupnames` command lists the full SID of the given user.
	- The `enumdomgroups` command lists group information, if a user does not have access permissions independently, he or she, might haves it via overarching group permissions.

enum4linux
	- Enum4linux is a tool for enumerating information from Windows and Samba systems.
	- It is basically a wrapper around the Samba tools smbclient, rpclient, net and nmblookup.
	- The `-o` flag is used to enumerate OS information.
	- The information enumerated includes details like:
		- Known usernames
		- NULL session check
		- OS information
		- Workgroup Details
	- The `-U` flag is used to enumerate list of users.
	- The `-G` flag is used to enumerate group information, if a user does not have access permissions independently, he or she, might haves it via overarching group permissions.
	- The `-i` flag enumerates printer information.

Methodology
	- enum4linux OS detection and User enumeration:
		- `enum4linux -o 192.168.2.1`
		- `enum4linux -U 192.168.2.1`
	- SMB version detection using Nmap: 
		- `nmap 192.168.2.1 --script smb-protocols -p 445`
	- SMB Enumeration using Metasploit modules.
	- NULL session login with rpclient to use commands and enumerate information about the target.\
	- If any share is found to be publicly accessible, we can use a NULL session to connect to it using smbclient.